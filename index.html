<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freedom Cabins NZ - Custom Configurator</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #474d60 0%, #3a3f50 50%, #2e3240 100%);
            min-height: 100vh;
            color: #c2c4ca;
        }
        
        .header {
            background: rgba(71, 77, 96, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(194, 196, 202, 0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 40;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #da8a67;
        }
        
        .live-price {
            background: linear-gradient(135deg, #da8a67, #c77a57);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            color: white;
            box-shadow: 0 4px 15px rgba(218, 138, 103, 0.3);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        .grid {
            display: grid;
            gap: 2rem;
            grid-template-columns: 1fr 400px;
        }
        
        .card {
            background: rgba(71, 77, 96, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(194, 196, 202, 0.1);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #c2c4ca;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .section-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(135deg, #da8a67, #c77a57);
            border-radius: 2px;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #c2c4ca;
        }
        
        .form-select, .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(58, 63, 80, 0.8);
            border: 1px solid rgba(194, 196, 202, 0.2);
            border-radius: 8px;
            color: #c2c4ca;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
        }
        
        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: #da8a67;
            box-shadow: 0 0 0 3px rgba(218, 138, 103, 0.1);
            background: rgba(58, 63, 80, 1);
        }
        
        .form-select option {
            background: #474d60;
            color: #c2c4ca;
        }
        
        .cabin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .cabin-option {
            background: rgba(58, 63, 80, 0.4);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .cabin-option:hover {
            border-color: #da8a67;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .cabin-option.selected {
            border-color: #da8a67;
            background: rgba(218, 138, 103, 0.1);
        }
        
        .cabin-floorplan {
            width: 100%;
            height: 140px;
            background: #666;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            text-align: center;
            background-image: url('/api/placeholder/300/140');
            background-size: cover;
            background-position: center;
        }
        
        .cabin-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }
        
        .cabin-name {
            font-weight: 600;
            color: #da8a67;
            font-size: 1.1rem;
        }
        
        .cabin-price {
            font-weight: 600;
            color: #c2c4ca;
            font-size: 1rem;
        }
        
        .cabin-specs {
            font-size: 0.9rem;
            color: #9ca3af;
            margin-bottom: 0.5rem;
        }
        
        .cabin-description {
            font-size: 0.85rem;
            color: #9ca3af;
            line-height: 1.3;
        }
        
        .build-type-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        
        .build-type-btn {
            background: rgba(58, 63, 80, 0.4);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 1.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: #c2c4ca;
        }
        
        .build-type-btn:hover {
            border-color: #da8a67;
            background: rgba(58, 63, 80, 0.6);
        }
        
        .build-type-btn.selected {
            border-color: #da8a67;
            background: rgba(218, 138, 103, 0.1);
        }
        
        .build-type-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .build-type-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .build-type-price {
            font-size: 0.9rem;
            color: #da8a67;
            font-weight: 500;
        }
        
        .package-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .package-option {
            background: rgba(58, 63, 80, 0.4);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .package-option:hover {
            border-color: #da8a67;
        }
        
        .package-option.selected {
            border-color: #da8a67;
            background: rgba(218, 138, 103, 0.1);
        }
        
        .package-image {
            height: 100px;
            background: #666;
            border-radius: 6px;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            text-align: center;
        }
        
        .package-name {
            font-weight: 600;
            color: #c2c4ca;
            margin-bottom: 0.25rem;
        }
        
        .package-price {
            color: #da8a67;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .quantity-btn {
            background: #da8a67;
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quantity-display {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
        }
        
        .sidebar {
            position: sticky;
            top: 6rem;
            height: fit-content;
        }
        
        .quote-card {
            background: linear-gradient(135deg, rgba(218, 138, 103, 0.1), rgba(199, 122, 87, 0.1));
            border: 1px solid rgba(218, 138, 103, 0.3);
        }
        
        .price-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #da8a67;
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(218, 138, 103, 0.3);
        }
        
        .price-breakdown {
            margin-bottom: 1rem;
        }
        
        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(194, 196, 202, 0.1);
        }
        
        .price-item:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 1.1rem;
            color: #da8a67;
        }
        
        .btn {
            width: 100%;
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, #da8a67, #c77a57);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(218, 138, 103, 0.3);
            margin-top: 1.5rem;
            font-family: 'Montserrat', sans-serif;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(218, 138, 103, 0.4);
        }
        
        @media (max-width: 1024px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: relative;
                top: 0;
            }
        }
        
        @media (max-width: 768px) {
            .build-type-buttons {
                grid-template-columns: 1fr;
            }
            
            .package-comparison {
                grid-template-columns: 1fr;
            }
            
            .cabin-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">Freedom Cabins NZ</div>
            <div class="live-price" id="headerPrice">Estimate: $0 inc GST</div>
        </div>
    </div>

    <div class="container">
        <div class="grid">
            <div class="main-content">
                <!-- Cabin Model Selection -->
                <div class="card">
                    <h2 class="section-title">🏠 Choose Your Cabin Model</h2>
                    
                    <div class="cabin-grid" id="cabinGrid">
                        <!-- Cabin options will be populated here -->
                    </div>
                </div>

                <!-- Build Type -->
                <div class="card">
                    <h2 class="section-title">🔧 Build Type</h2>
                    
                    <div class="build-type-buttons" id="buildTypeButtons">
                        <!-- Build type buttons will be populated here -->
                    </div>
                </div>

                <!-- Bathroom Package -->
                <div class="card">
                    <h2 class="section-title">🚿 Bathroom Package</h2>
                    
                    <div class="package-comparison" id="bathroomPackages">
                        <!-- Bathroom packages will be populated here -->
                    </div>
                </div>

                <!-- Electrical Package -->
                <div class="card">
                    <h2 class="section-title">⚡ Electrical Package</h2>
                    
                    <div class="package-comparison" id="electricalPackages">
                        <!-- Electrical packages will be populated here -->
                    </div>
                </div>

                <!-- Door Options -->
                <div class="card">
                    <h2 class="section-title">🚪 Door Options</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Door Type</label>
                        <select class="form-select" id="doorType">
                            <option value="standard">Standard Swing Doors (Included)</option>
                            <option value="cavity">Cavity Sliders (+$800 each)</option>
                            <option value="barn">Bespoke Barn Doors (+$1,200 each)</option>
                        </select>
                        
                        <div class="quantity-selector">
                            <span>Number of upgraded doors:</span>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="changeDoorQuantity(-1)">-</button>
                                <span class="quantity-display" id="doorQuantity">0</span>
                                <button class="quantity-btn" onclick="changeDoorQuantity(1)">+</button>
                            </div>
                            <span style="font-size: 0.9rem; color: #9ca3af;">(Max: 3)</span>
                        </div>
                    </div>
                </div>

                <!-- Cedar Panel Add-on -->
                <div class="card">
                    <h2 class="section-title">🌲 Cedar Panel Add-on</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Premium Cedar Panels (+$600 each)</label>
                        <p style="color: #9ca3af; font-size: 0.9rem; margin-bottom: 1rem;">Add beautiful cedar panels to enhance your cabin's exterior aesthetic.</p>
                        
                        <div class="quantity-selector">
                            <span>Number of cedar panels:</span>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="changeCedarQuantity(-1)">-</button>
                                <span class="quantity-display" id="cedarQuantity">0</span>
                                <button class="quantity-btn" onclick="changeCedarQuantity(1)">+</button>
                            </div>
                            <span style="font-size: 0.9rem; color: #9ca3af;">(Max: 3)</span>
                        </div>
                    </div>
                </div>

                <!-- Trailer Option -->
                <div class="card">
                    <h2 class="section-title">🚛 Trailer Option</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Trailer Configuration</label>
                        <select class="form-select" id="trailerOption">
                            <option value="none">No Trailer (Cabin Only)</option>
                            <option value="single">Single Axle Trailer (+$4,500)</option>
                            <option value="double">Double Axle Trailer (+$6,000)</option>
                            <option value="triple">Triple Axle Trailer with Hydraulic Brakes (+$7,500)</option>
                        </select>
                    </div>
                </div>

                <!-- Heat Pump Option -->
                <div class="card">
                    <h2 class="section-title">🔥 Heat Pump Option</h2>
                    
                    <div class="form-group">
                        <label class="form-label">Climate Control</label>
                        <select class="form-select" id="heatPumpOption">
                            <option value="none">No Heat Pump</option>
                            <option value="standard">Standard Heat Pump (+$2,200)</option>
                            <option value="premium">Premium Inverter Heat Pump (+$3,500)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Sidebar with Estimate -->
            <div class="sidebar">
                <div class="card quote-card">
                    <h2 class="section-title">💰 Your Estimate</h2>
                    
                    <div class="price-display" id="totalPrice">$0</div>
                    
                    <div class="price-breakdown" id="priceBreakdown">
                        <!-- Price breakdown will be populated here -->
                    </div>
                    
                    <button class="btn" id="requestQuoteBtn">Request Detailed Estimate</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration data based on actual Freedom Cabins NZ models
        const cabinModels = [
            {
                id: '6x3-open',
                name: '6m x 3m Open Room',
                specs: '18m² • Open Living Space',
                description: 'Perfect for storage, office space, or studio',
                basePrice: 27900
            },
            {
                id: '7.2x3-studio',
                name: '7.2m x 3m Studio',
                specs: '21.6m² • Ensuite • Kitchenette',
                description: 'Self-contained studio with all essentials',
                basePrice: 57900
            },
            {
                id: '8.4x3-bedroom',
                name: '8.4m x 3m One Bedroom',
                specs: '25.2m² • 1 Bedroom • Bathroom • Kitchen',
                description: 'Comfortable one bedroom cabin',
                basePrice: 67900
            },
            {
                id: '8.4x3-walkthrough',
                name: '8.4m x 3m Walk-Through',
                specs: '25.2m² • 1 Bedroom • Walk-Through Bathroom',
                description: 'Enhanced layout with walk-through bathroom',
                basePrice: 68900
            },
            {
                id: '10x3-one-bedroom',
                name: '10m x 3m One Bedroom',
                specs: '30m² • 1 Bedroom • Bathroom • Kitchen',
                description: 'Spacious one bedroom with full amenities',
                basePrice: 81900
            },
            {
                id: '10x3-two-bedroom',
                name: '10m x 3m Two Bedroom',
                specs: '30m² • 2 Bedrooms • Bathroom • Kitchen',
                description: 'Perfect for small families or couples',
                basePrice: 85900
            },
            {
                id: '10.8x3-two-bedroom',
                name: '10.8m x 3m Two Bedroom',
                specs: '32.4m² • 2 Bedrooms • Bathroom • Kitchen',
                description: 'Our most popular two bedroom model',
                basePrice: 97900
            }
        ];

        const buildTypes = {
            'standard': { name: 'Standard Build', price: 0, icon: '🏗️' },
            'double-glazed': { name: 'Double Glazed Upgrade', price: 8000, icon: '🪟' },
            'built-to-code': { name: 'Built to Code', price: 15000, icon: '✅' }
        };

        const bathroomPackages = {
            'standard': { name: 'Standard Bathroom', price: 0, image: 'Standard fixtures & fittings' },
            'premium': { name: 'Premium Bathroom', price: 2500, image: 'Upgraded tiles, fixtures & vanity' }
        };

        const electricalPackages = {
            'standard': { name: 'Standard Electrical', price: 0, image: 'Basic lighting & power points' },
            'premium': { name: 'Premium Electrical', price: 1500, image: 'LED lighting, USB points & extras' }
        };

        const doorTypes = {
            'standard': { name: 'Standard Swing Doors', price: 0 },
            'cavity': { name: 'Cavity Sliders', price: 800 },
            'barn': { name: 'Bespoke Barn Doors', price: 1200 }
        };

        const trailerOptions = {
            'none': { name: 'No Trailer', price: 0 },
            'single': { name: 'Single Axle Trailer', price: 4500 },
            'double': { name: 'Double Axle Trailer', price: 6000 },
            'triple': { name: 'Triple Axle Trailer with Hydraulic Brakes', price: 7500 }
        };

        const heatPumpOptions = {
            'none': { name: 'No Heat Pump', price: 0 },
            'standard': { name: 'Standard Heat Pump', price: 2200 },
            'premium': { name: 'Premium Inverter Heat Pump', price: 3500 }
        };

        // State management
        let currentConfig = {
            cabinModel: null,
            buildType: 'standard',
            bathroomPackage: 'standard',
            electricalPackage: 'standard',
            doorType: 'standard',
            doorQuantity: 0,
            cedarQuantity: 0,
            trailerOption: 'none',
            heatPumpOption: 'none'
        };

        // Initialize the configurator
        function init() {
            renderCabinModels();
            renderBuildTypes();
            renderBathroomPackages();
            renderElectricalPackages();
            setupEventListeners();
            updatePricing();
        }

        function renderCabinModels() {
            const grid = document.getElementById('cabinGrid');
            grid.innerHTML = cabinModels.map(cabin => `
                <div class="cabin-option" data-cabin-id="${cabin.id}" onclick="selectCabin('${cabin.id}')">
                    <div class="cabin-header">
                        <div class="cabin-name">${cabin.name}</div>
                        <div class="cabin-price">$${cabin.basePrice.toLocaleString()}</div>
                    </div>
                    <div class="cabin-specs">${cabin.specs}</div>
                    <div class="cabin-description">${cabin.description}</div>
                </div>
            `).join('');
        }

        function renderBuildTypes() {
            const container = document.getElementById('buildTypeButtons');
            container.innerHTML = Object.entries(buildTypes).map(([key, type]) => `
                <div class="build-type-btn ${key === 'standard' ? 'selected' : ''}" data-build-type="${key}" onclick="selectBuildType('${key}')">
                    <div class="build-type-icon">${type.icon}</div>
                    <div class="build-type-name">${type.name}</div>
                    <div class="build-type-price">${type.price > 0 ? `+$${type.price.toLocaleString()}` : 'Included'}</div>
                </div>
            `).join('');
        }

        function renderBathroomPackages() {
            const container = document.getElementById('bathroomPackages');
            container.innerHTML = Object.entries(bathroomPackages).map(([key, pkg]) => `
                <div class="package-option ${key === 'standard' ? 'selected' : ''}" data-package="bathroom-${key}" onclick="selectBathroomPackage('${key}')">
                    <div class="package-image">${pkg.image}</div>
                    <div class="package-name">${pkg.name}</div>
                    <div class="package-price">${pkg.price > 0 ? `+$${pkg.price.toLocaleString()}` : 'Included'}</div>
                </div>
            `).join('');
        }

        function renderElectricalPackages() {
            const container = document.getElementById('electricalPackages');
            container.innerHTML = Object.entries(electricalPackages).map(([key, pkg]) => `
                <div class="package-option ${key === 'standard' ? 'selected' : ''}" data-package="electrical-${key}" onclick="selectElectricalPackage('${key}')">
                    <div class="package-image">${pkg.image}</div>
                    <div class="package-name">${pkg.name}</div>
                    <div class="package-price">${pkg.price > 0 ? `+$${pkg.price.toLocaleString()}` : 'Included'}</div>
                </div>
            `).join('');
        }

        function selectCabin(cabinId) {
            document.querySelectorAll('.cabin-option').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-cabin-id="${cabinId}"]`).classList.add('selected');
            currentConfig.cabinModel = cabinId;
            updatePricing();
        }

        function selectBuildType(buildType) {
            document.querySelectorAll('.build-type-btn').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-build-type="${buildType}"]`).classList.add('selected');
            currentConfig.buildType = buildType;
            updatePricing();
        }

        function selectBathroomPackage(packageType) {
            document.querySelectorAll('[data-package^="bathroom-"]').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-package="bathroom-${packageType}"]`).classList.add('selected');
            currentConfig.bathroomPackage = packageType;
            updatePricing();
        }

        function selectElectricalPackage(packageType) {
            document.querySelectorAll('[data-package^="electrical-"]').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-package="electrical-${packageType}"]`).classList.add('selected');
            currentConfig.electricalPackage = packageType;
            updatePricing();
        }

        function changeDoorQuantity(change) {
            const newQuantity = Math.max(0, Math.min(3, currentConfig.doorQuantity + change));
            currentConfig.doorQuantity = newQuantity;
            document.getElementById('doorQuantity').textContent = newQuantity;
            updatePricing();
        }

        function changeCedarQuantity(change) {
            const newQuantity = Math.max(0, Math.min(3, currentConfig.cedarQuantity + change));
            currentConfig.cedarQuantity = newQuantity;
            document.getElementById('cedarQuantity').textContent = newQuantity;
            updatePricing();
        }

        function setupEventListeners() {
            document.getElementById('doorType').addEventListener('change', (e) => {
                currentConfig.doorType = e.target.value;
                updatePricing();
            });

            document.getElementById('trailerOption').addEventListener('change', (e) => {
                currentConfig.trailerOption = e.target.value;
                updatePricing();
            });

            document.getElementById('heatPumpOption').addEventListener('change', (e) => {
                currentConfig.heatPumpOption = e.target.value;
                updatePricing();
            });

            document.getElementById('requestQuoteBtn').addEventListener('click', requestEstimate);
        }

        function updatePricing() {
            let total = 0;
            const breakdown = [];

            // Base cabin price
            if (currentConfig.cabinModel) {
                const cabin = cabinModels.find(c => c.id === currentConfig.cabinModel);
                total += cabin.basePrice;
                breakdown.push({ name: cabin.name, price: cabin.basePrice });
            }

            // Build type
            const buildType = buildTypes[currentConfig.buildType];
            if (buildType.price > 0) {
                total += buildType.price;
